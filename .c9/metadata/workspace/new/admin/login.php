{"filter":false,"title":"login.php","tooltip":"/new/admin/login.php","undoManager":{"mark":28,"position":28,"stack":[[{"start":{"row":18,"column":18},"end":{"row":18,"column":19},"action":"remove","lines":["n"],"id":3}],[{"start":{"row":18,"column":17},"end":{"row":18,"column":18},"action":"remove","lines":["i"],"id":4}],[{"start":{"row":18,"column":16},"end":{"row":18,"column":17},"action":"remove","lines":["g"],"id":5}],[{"start":{"row":18,"column":15},"end":{"row":18,"column":16},"action":"remove","lines":["o"],"id":6}],[{"start":{"row":18,"column":14},"end":{"row":18,"column":15},"action":"remove","lines":["l"],"id":7}],[{"start":{"row":18,"column":14},"end":{"row":18,"column":15},"action":"insert","lines":["i"],"id":8}],[{"start":{"row":18,"column":15},"end":{"row":18,"column":16},"action":"insert","lines":["n"],"id":9}],[{"start":{"row":18,"column":16},"end":{"row":18,"column":17},"action":"insert","lines":["d"],"id":10}],[{"start":{"row":18,"column":17},"end":{"row":18,"column":18},"action":"insert","lines":["e"],"id":11}],[{"start":{"row":18,"column":18},"end":{"row":18,"column":19},"action":"insert","lines":["s"],"id":12}],[{"start":{"row":18,"column":18},"end":{"row":18,"column":19},"action":"remove","lines":["s"],"id":13}],[{"start":{"row":18,"column":18},"end":{"row":18,"column":19},"action":"insert","lines":["x"],"id":14}],[{"start":{"row":18,"column":5},"end":{"row":18,"column":24},"action":"remove","lines":["action= \"index.php\""],"id":15}],[{"start":{"row":18,"column":4},"end":{"row":18,"column":5},"action":"remove","lines":[" "],"id":16}],[{"start":{"row":18,"column":16},"end":{"row":19,"column":1},"action":"insert","lines":["","\t"],"id":17}],[{"start":{"row":19,"column":1},"end":{"row":41,"column":3},"action":"insert","lines":["<?php","\trequire_once('../includes/config.php');","\tif(!$user->is_logged_in()){ header('Location: login.php'); }","//show message from add / edit page","\t//process login form if submitted","\tif(isset($_POST['submit'])){","\t\t$username = trim($_POST['username']);","\t\t$password = trim($_POST['password']);","\t\t","\t\tif($user->login($username,$password)){ ","\t\t\t//logged in return to index page","\t\t\theader('Location: moon.php');","\t\t\texit;","\t\t","\t\t} else {","\t\t\t$message = '<p class=\"error\">Wrong username or password</p>';","\t\t}","\t}//end if submit","\tif(isset($message)){ echo $message; }","\t","\theader('Location: moon.php');","\texit;","\t?>"],"id":18}],[{"start":{"row":20,"column":1},"end":{"row":21,"column":61},"action":"remove","lines":["require_once('../includes/config.php');","\tif(!$user->is_logged_in()){ header('Location: login.php'); }"],"id":19}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":1},"action":"remove","lines":["\t"],"id":20}],[{"start":{"row":19,"column":6},"end":{"row":20,"column":0},"action":"remove","lines":["",""],"id":21}],[{"start":{"row":20,"column":0},"end":{"row":20,"column":35},"action":"remove","lines":["//show message from add / edit page"],"id":22}],[{"start":{"row":37,"column":1},"end":{"row":38,"column":6},"action":"remove","lines":["header('Location: moon.php');","\texit;"],"id":23}],[{"start":{"row":37,"column":0},"end":{"row":37,"column":1},"action":"remove","lines":["\t"],"id":24}],[{"start":{"row":36,"column":1},"end":{"row":37,"column":0},"action":"remove","lines":["",""],"id":25}],[{"start":{"row":36,"column":0},"end":{"row":36,"column":1},"action":"remove","lines":["\t"],"id":26}],[{"start":{"row":35,"column":38},"end":{"row":36,"column":0},"action":"remove","lines":["",""],"id":27}],[{"start":{"row":38,"column":1},"end":{"row":39,"column":0},"action":"remove","lines":["",""],"id":28}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":1},"action":"remove","lines":["\t"],"id":29}],[{"start":{"row":37,"column":0},"end":{"row":38,"column":0},"action":"remove","lines":["",""],"id":30}],[{"start":{"row":36,"column":3},"end":{"row":37,"column":0},"action":"remove","lines":["",""],"id":31}]]},"ace":{"folds":[],"scrolltop":14,"scrollleft":0,"selection":{"start":{"row":36,"column":3},"end":{"row":36,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1468677060331,"hash":"d5699c82a045043a8a441bec111203a042dd6c33"}